local HttpService = game:GetService('HttpService')
local Players = game:GetService('Players')
local player = Players.LocalPlayer

local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local api = loadstring(game:HttpGet("https://sdkapi-public.luarmor.net/library.lua"))()
api.script_id = "d6f42c730c671de2e5d443157246cb69"

local Window = Rayfield:CreateWindow({
    Name = 'Gunfight Arena Key System',
    LoadingTitle = 'Gunfight Arena Key System',
    LoadingSubtitle = 'Loading script...',
    ConfigurationSaving = {
        Enabled = true,
        FolderName = 'GunfightArenaKeySystem',
        FileName = 'Config',
    },
})

local Tab = Window:CreateTab('Main')

local inputText = ''

local Input = Tab:CreateInput({
    Name = 'Enter Key',
    PlaceholderText = 'Enter your key here',
    RemoveTextAfterFocusLost = false,
    Callback = function(Text)
        inputText = Text
    end,
})

local VerifyButton = Tab:CreateButton({
    Name = 'Verify Key',
    Callback = function()
        if inputText == '' then
            Rayfield:Notify({
                Title = 'No Key Entered',
                Content = 'Please enter a key before verifying.',
                Duration = 3,
            })
            return
        end

        Rayfield:Notify({
            Title = 'Verifying...',
            Content = 'Please wait while we check your key.',
            Duration = 2,
        })

        local status = api.check_key(inputText)
        if status.code == "KEY_VALID" then
            Rayfield:Notify({
                Title = 'Key Valid',
                Content = 'Loading script...',
                Duration = 2,
            })
            script_key = inputText
            Rayfield:Destroy()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/zixypy/scripts/main/gunfight.txt"))()
        elseif status.code == "KEY_HWID_LOCKED" then
            Rayfield:Notify({
                Title = 'HWID Locked',
                Content = 'This key is locked to a different device.',
                Duration = 3,
            })
        else
            Rayfield:Notify({
                Title = 'Invalid Key',
                Content = 'The key you entered is not valid.',
                Duration = 3,
            })
        end
    end,
})

local Button = Tab:CreateButton({
    Name = 'Copy Key System',
    Callback = function()
        setclipboard('https://ads.luarmor.net/get_key?for=Zixy_X-ZwPSxFJIbjyo')
        Rayfield:Notify({
            Title = 'Copied',
            Content = 'Key system URL copied to clipboard.',
            Duration = 3,
        })
    end,
})
